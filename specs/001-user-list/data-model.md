# Data Model: User List Display

**Date**: 2025-01-27  
**Feature**: User List Display

## Entities

### User

Represents a user in the system.

**Attributes**:

| Field | Type | Constraints | Description |
|-------|------|-------------|-------------|
| Id | int | PRIMARY KEY, AUTO_INCREMENT | Unique identifier for the user |
| Username | string (nullable) | UNIQUE, NULL allowed | Optional text identifier for the user. Must be unique when present. |
| Email | string | NOT NULL, UNIQUE | Required email address. Must be unique and cannot be null. |

**Database Schema**:

```sql
CREATE TABLE Users (
    Id SERIAL PRIMARY KEY,
    Username VARCHAR(255) NULL UNIQUE,
    Email VARCHAR(255) NOT NULL UNIQUE
);

CREATE INDEX IX_Users_Email ON Users(Email);
CREATE INDEX IX_Users_Username ON Users(Username) WHERE Username IS NOT NULL;
```

**Entity Framework Model** (C#):

```csharp
public class User
{
    public int Id { get; set; }
    public string? Username { get; set; }
    public string Email { get; set; } = string.Empty;
}
```

**Validation Rules**:

1. **Email**:
   - Required (NOT NULL)
   - Must be unique across all users
   - Must be valid email format (enforced by application layer)

2. **Username**:
   - Optional (nullable)
   - Must be unique when present (NULL values don't conflict with each other)
   - Can contain special characters (handled per edge case requirements)

3. **Id**:
   - Auto-generated by database (SERIAL)
   - Primary key
   - Immutable after creation

**Relationships**: None (standalone entity for MVP)

**State Transitions**: None (read-only for this feature)

**Indexes**:
- Primary key index on `Id` (automatic)
- Unique index on `Email` (enforced by UNIQUE constraint)
- Unique index on `Username` (enforced by UNIQUE constraint, partial index for non-null values)

**Notes**:
- Username can be NULL, but when present must be unique
- Email is the primary identifier (required and unique)
- Both fields support special characters per edge case requirements
- No soft delete or audit fields needed for MVP (read-only feature)

